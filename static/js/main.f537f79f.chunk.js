(this["webpackJsonpi-want-to-pass"]=this["webpackJsonpi-want-to-pass"]||[]).push([[0],{109:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(8),c=a.n(s),o=(a(85),a(86),a(32)),i=a(33),l=a(36),u=a(34),p=a(38),d=a(143),m=a(27),h=a(35);var g=function(e){var t=Object(m.f)();return n.a.createElement("div",{style:{margin:"10px",textAlign:"center",paddingLeft:"6%"}},n.a.createElement(d.a,{color:"secondary",style:{backgroundColor:"white",width:"155px",marginRight:"10px"},onClick:function(){return t.push({pathname:"/course",state:{course:e.course}})}},e.course.name),n.a.createElement(d.a,{style:{marginTop:"5px",color:"#A0A0A0"},onClick:function(){return e.callback()}},"Delete"))},b=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).onClick=function(){a.props.history.push("/course")},a.removeCallback=function(e){return function(){a.props.removeCourse(e)}},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{padding:"2vh"}},n.a.createElement("div",{style:{height:"25vh"}}),n.a.createElement("h2",null,"I Want To Pass"),n.a.createElement("p",null,"Calculate how much you need to get on the final exam to pass a course :)"),n.a.createElement(d.a,{color:"primary",onClick:this.onClick},"Add a new course"),n.a.createElement("h3",null,"Saved courses"),this.props.course.map((function(t,a){return n.a.createElement(g,{key:a,callback:e.removeCallback(a),course:t})})),0===this.props.course.length&&"No saved course at the moment...")}}]),t}(r.Component),f=Object(m.g)(Object(h.b)((function(e){return e}),(function(e){return{removeCourse:function(t){return e({index:t,type:"removeCourse"})}}}))(b)),v=a(18),y=a(6),k=a(142),C=a(50),O=a.n(C),E={calculateRequired:function(e,t,a){var r=t/=100;if(0===r)return e>=50?0:-1;var n=Math.ceil((a-e*(1-t))/r);return n>100?-1:n<0?0:n},calculateGrade:function(e,t){return 0===t?0:Math.round(100*e/t)}},j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onMarkChange=function(e){var t=parseInt(e.target.value);isNaN(t)||a.setState(Object(y.a)({},a.state,{mark:t}))},a.onOutOfChange=function(e){var t=parseInt(e.target.value);isNaN(t)||a.setState(Object(y.a)({},a.state,{outOf:t}))},a.onPercentageChange=function(e){var t=parseInt(e.target.value);isNaN(t)||t>100||t<0||a.setState(Object(y.a)({},a.state,{percentage:t}))},a.onSubmit=function(e){e.preventDefault();var t=E.calculateGrade(a.state.mark,a.state.outOf);a.setState(Object(y.a)({},a.state,{grade:t,editing:!1})),a.props.callback({name:a.state.name,grade:t,mark:a.state.mark,outOf:a.state.outOf,percentage:a.state.percentage,id:a.state.id})},a.onNameChange=function(e){a.setState(Object(y.a)({},a.state,{name:e.target.value}))},a.state=Object(y.a)({},a.props.course,{editing:a.props.editing}),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{margin:"15px"}},!this.state.editing&&n.a.createElement("div",{style:{paddingLeft:"50px"}},this.props.index,". Name: ",this.state.name,", Grade: ",this.state.grade,", Weighting: ",this.state.percentage,"%",n.a.createElement(d.a,{style:{marginLeft:"5px",marginRight:"5px",color:"#A0A0A0"},onClick:function(){return e.setState(Object(y.a)({},e.state,{editing:!0}))}},"Edit"),n.a.createElement(d.a,{style:{color:"#A0A0A0"},onClick:function(){return e.props.deleteCallback()}},"Delete")),this.state.editing&&n.a.createElement("form",{onSubmit:this.onSubmit},n.a.createElement("label",{style:{color:"white"}},"Name:",n.a.createElement(k.a,{style:{marginLeft:"15px"},inputProps:{className:this.props.classes.input},InputLabelProps:{className:this.props.classes.label},type:"string",required:!0,defaultValue:this.props.course.name,onChange:this.onNameChange})),n.a.createElement("label",{style:{color:"white",marginLeft:"15px"}},"Mark:",n.a.createElement(k.a,{style:{width:"50px",marginLeft:"5px"},inputProps:{className:this.props.classes.input,step:"any",min:0,max:this.state.outOf},InputLabelProps:{className:this.props.classes.label},type:"number",required:!0,defaultValue:this.props.course.mark.toString(),onChange:this.onMarkChange})),n.a.createElement("label",{style:{color:"white",marginLeft:"15px"}},"Out Of:",n.a.createElement(k.a,{style:{width:"50px",marginLeft:"5px"},inputProps:{className:this.props.classes.input,min:1,step:"any"},InputLabelProps:{className:this.props.classes.label},type:"number",required:!0,defaultValue:this.props.course.outOf.toString(),onChange:this.onOutOfChange})),n.a.createElement("label",{style:{color:"white",marginLeft:"15px"}},"Weighting:",n.a.createElement(k.a,{style:{width:"50px",marginLeft:"5px"},inputProps:{className:this.props.classes.input,step:"any",min:1,max:100},InputLabelProps:{className:this.props.classes.label},type:"number",required:!0,defaultValue:this.props.course.percentage.toString(),onChange:this.onPercentageChange}),"%"),n.a.createElement(d.a,{style:{backgroundColor:"white",marginLeft:"10px"},type:"submit",color:"secondary"},"Save"),n.a.createElement(d.a,{style:{backgroundColor:"white",marginLeft:"5px"},onClick:function(){return e.props.cancelCallback?e.props.cancelCallback():e.setState(Object(y.a)({},e.props.course,{editing:!1}))},color:"secondary"},"Cancel")))}}]),t}(r.Component),x=O()({input:{color:"white"},label:{color:"white"}})(j),w=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onPercentageChange=function(e){var t=parseInt(e.target.value);if(isNaN(t))a.setState(Object(y.a)({},a.state,{perValid:!1,dirty:!0}));else if(t>100||t<0)a.setState(Object(y.a)({},a.state,{perValid:!1,dirty:!0}));else{var r=Object(y.a)({},a.state.course,{percentage:t});a.setState(Object(y.a)({},a.state,{course:r,perValid:!0,dirty:!0}))}},a.onNameChange=function(e){var t=e.target.value;if(""!==t){var r=Object(y.a)({},a.state.course,{name:t});a.setState(Object(y.a)({},a.state,{course:r,nameValid:!0,dirty:!0}))}else a.setState(Object(y.a)({},a.state,{nameValid:!1,dirty:!0}))},a.onSubmit=function(e){if(e.preventDefault(),a.state.course.courseWork.reduce((function(e,t){return e+t.percentage}),0)+a.state.course.percentage===100){var t=a.state.course,r=E.calculateRequired(t.grade,t.percentage,50),n=Object(y.a)({},t,{needed:r});a.setState(Object(y.a)({},a.state,{course:n,valid:!0,calculated:!0,dirty:a.state.dirty||r!==a.state.course.needed}))}else a.setState(Object(y.a)({},a.state,{valid:!1,calculated:!0}))},a.newCourseWorkCallback=function(e){return function(t){var r=Object(v.a)(a.state.editing),n=Object(v.a)(a.state.course.courseWork);t.id=a.genKey(),n.push(t),r.splice(e,1);var s=Object(y.a)({},a.state.course);s.courseWork=n;var c=s.courseWork.reduce((function(e,t){return e+t.percentage}),0),o=n.reduce((function(e,t){return e+t.grade*t.percentage}),0)/c;isNaN(o)?s.grade=0:s.grade=Math.round(o),a.setState(Object(y.a)({},a.state,{course:s,editing:r,dirty:!0}))}},a.updateCourseWorkCallback=function(e){return function(t){var r=Object(v.a)(a.state.course.courseWork);r[e]=t;var n=Object(y.a)({},a.state.course);n.courseWork=r;var s=n.courseWork.reduce((function(e,t){return e+t.percentage}),0),c=r.reduce((function(e,t){return e+t.grade*t.percentage}),0)/s;isNaN(c)?n.grade=0:n.grade=Math.round(c),a.setState(Object(y.a)({},a.state,{course:n,dirty:!0}))}},a.deleteCallback=function(e){return function(){var t=Object(v.a)(a.state.course.courseWork);t.splice(e,1);var r=Object(y.a)({},a.state.course);r.courseWork=t;var n=r.courseWork.reduce((function(e,t){return e+t.percentage}),0),s=t.reduce((function(e,t){return e+t.grade*t.percentage}),0)/n;isNaN(s)?r.grade=0:r.grade=Math.round(s),a.setState(Object(y.a)({},a.state,{course:r,dirty:!0}))}},a.saveCourse=function(){""!==a.state.course.name?a.state.perValid&&a.state.nameValid&&(!a.state.saved?a.props.addCourse(a.state.course):a.props.updateCourse(a.state.course),a.setState(Object(y.a)({},a.state,{saved:!0,dirty:!1}))):a.setState(Object(y.a)({},a.state,{nameValid:!1}))},a.cancelCallback=function(e){return function(){var t=Object(v.a)(a.state.editing);t.splice(e,1),a.setState(Object(y.a)({},a.state,{editing:t}))}},a.genKey=function(){return(new Date).valueOf()*Math.random()};var r=a.props.course;return r&&r.courseWork.forEach((function(e){return e.id=a.genKey()})),a.state={course:r||{name:"",grade:0,percentage:0,needed:0,courseWork:[]},perValid:!0,nameValid:!0,valid:!0,editing:[],calculated:!1,dirty:!1,saved:!(void 0===r||null===r)},a.numberInputProps={className:a.props.classes.input,step:"any",min:0,max:100},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{padding:"2vh"}},n.a.createElement("div",{style:{textAlign:"right"}},(!this.state.saved||this.state.dirty)&&"Unsaved Changes",n.a.createElement(d.a,{color:"secondary",onClick:function(){return e.props.history.goBack()},style:{backgroundColor:"white",margin:"10px"}},"Back To Main Page")),this.state.calculated&&n.a.createElement("div",{style:{width:"100vw",position:"absolute",left:0,top:this.state.valid&&0===this.state.course.needed?"20vh":"23vh"}},this.state.valid&&this.state.course.needed>=0&&n.a.createElement("h2",null,"You need ",this.state.course.needed,"% on the exam to pass the course"),this.state.valid&&0===this.state.course.needed&&n.a.createElement("h2",null,"Congrats! You've passed the course!"),this.state.valid&&-1===this.state.course.needed&&n.a.createElement("h2",null,"Sorry but you cannot pass this course :("),!this.state.valid&&n.a.createElement("h2",null,"Your Exam and course work weighting must add up to 100!")),n.a.createElement("div",{style:{height:"25vh"}}),n.a.createElement("form",{onSubmit:this.onSubmit},n.a.createElement("label",{style:{color:"white"}},"Course Name:",n.a.createElement(k.a,{style:{marginLeft:"15px"},inputProps:{className:this.props.classes.input},InputLabelProps:{className:this.props.classes.label},type:"string",error:!this.state.nameValid,disabled:this.state.saved,defaultValue:this.state.course.name,onChange:this.onNameChange})),n.a.createElement("div",{style:{height:"25px"}}),n.a.createElement("label",{style:{color:"white"}},"Term grade:",n.a.createElement(k.a,{style:{marginLeft:"15px"},inputProps:{className:this.props.classes.input},InputLabelProps:{className:this.props.classes.label},type:"string",required:!0,disabled:!0,value:this.state.course.grade.toString(),onChange:this.onGradeChange})),n.a.createElement("div",{style:{height:"25px"}}),n.a.createElement("label",{style:{color:"white"}},"Enter your exam weighting:",n.a.createElement(k.a,{style:{marginLeft:"15px"},inputProps:this.numberInputProps,InputLabelProps:{className:this.props.classes.label},type:"number",required:!0,error:!this.state.perValid,defaultValue:this.state.course.percentage.toString(),onChange:this.onPercentageChange}),"%"),n.a.createElement("div",{style:{height:"15px"}}),n.a.createElement(d.a,{style:{backgroundColor:"white"},onClick:function(){return e.setState(Object(y.a)({},e.state,{editing:[].concat(Object(v.a)(e.state.editing),[e.genKey()])}))},color:"secondary"},"Add Course Work"),n.a.createElement(d.a,{style:{backgroundColor:"white",marginLeft:"5px"},type:"submit",color:"secondary"},"Calculate"),n.a.createElement(d.a,{style:{backgroundColor:"white",marginLeft:"5px"},onClick:this.saveCourse,color:"secondary"},"Save")),0!==this.state.editing.length&&n.a.createElement("div",{style:{backgroundColor:"white",height:"1px",marginTop:"5px"}}),this.state.editing.map((function(t,a){return n.a.createElement(x,{key:t,editing:!0,course:{name:"",grade:0,mark:0,outOf:0,percentage:0},cancelCallback:e.cancelCallback(a),callback:e.newCourseWorkCallback(a)})})),(0!==this.state.editing.length||0!==this.state.course.courseWork.length)&&n.a.createElement("div",{style:{backgroundColor:"white",height:"1px",marginTop:"5px"}}),0!==this.state.course.courseWork.length&&n.a.createElement("h4",null,"Course Work"),this.state.course.courseWork.map((function(t,a){return n.a.createElement(x,{key:t.id,index:a+1,course:Object(y.a)({},t),editing:!1,cancelCallback:null,deleteCallback:e.deleteCallback(a),callback:e.updateCourseWorkCallback(a)})})))}}]),t}(r.Component),N=O()({input:{color:"white"},label:{color:"white"}})(Object(m.g)(Object(h.b)((function(e,t){var a=e.course.map((function(e){return e.name}));return t.location.state&&t.location.state.course?{courseName:a,course:e.course.find((function(e){return e.name===t.location.state.course.name}))}:{courseName:a}}),(function(e){return{addCourse:function(t){return e({course:{name:t.name,grade:t.grade,percentage:t.percentage,needed:t.needed,courseWork:t.courseWork},type:"addCourse"})},updateCourse:function(t){return e({course:{name:t.name,grade:t.grade,percentage:t.percentage,needed:t.needed,courseWork:t.courseWork},type:"updateCourse"})}}}))(w)));var S=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(m.c,null,n.a.createElement(m.a,{path:"/course"},n.a.createElement(N,null)),n.a.createElement(m.a,{path:"/"},n.a.createElement(f,null))))},W=a(45),L=new(a(71).a),P={course:L.get("course")?L.get("course"):[]},V=Object(W.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"addCourse":var a=Object(v.a)(e.course);a.push(t.course);var r=Object(y.a)({},e,{course:a});return L.set("course",JSON.stringify(r.course)),r;case"updateCourse":var n=Object(v.a)(e.course),s=n.findIndex((function(e){return e.name===t.course.name}));n[s]=t.course;var c=Object(y.a)({},e,{course:n});return L.set("course",JSON.stringify(c.course)),c;case"removeCourse":var o=Object(v.a)(e.course);o.splice(t.index,1);var i=Object(y.a)({},e,{course:o});return L.set("course",JSON.stringify(i.course)),i;default:return e}}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=a(55),A=a.n(I),M=a(141),q=a(52),T=a(31),D=A()({palette:{primary:{main:q.a[50]},secondary:{main:q.a[900]}},status:{danger:"red"}});c.a.render(n.a.createElement(M.a,{theme:D},n.a.createElement(T.a,null,n.a.createElement(h.a,{store:V},n.a.createElement(S,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},80:function(e,t,a){e.exports=a(109)},85:function(e,t,a){},86:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.f537f79f.chunk.js.map